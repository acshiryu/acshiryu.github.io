title: hdu4602 Partition 2013多校第一场100
toc: true
tags:
  - hdu
  - 数论
  - 递归
categories:
  - 算法竞赛
id: 1045
date: 2010-01-01 00:22:00
---

可以知道对于任何数n都可以写成$n=x+[y+z+...]$,则对于任意的一个$x(0\leq x < n)$，后面的式子有${2}^{n-x-1}$种写法

假设对于给定的k，题目要求的就是$f+{n}$

则对于x有两种可能
若$x=k$，则这${2}^{n-x-1}$个式子中，因为第一项就是k，所以每一个式子至少含有1个$k$，现在就看其余项中含有多少$k$，而其余项就是求$f(n-x)$
若$x\neq k$相等，则第一项不含有$k$，就看其余项中含有含有多少$k$，依旧是求$f(n-x)$
注意到，当$k>n$是，$f(n)=0$

则可以得到
$f_{n}=\sum_{i=k}^{n-1}{f_{i}}+{2}^{n-k-1}$

于是可以求出通项公式
$f_{n}=(n-k+3)*{2}^{n-k-2}(n>k)$

$(n-k-1)*{2}^{n-k-2} = {(n-k-3)}*{2}^{n-k-1} $

> 官方解题报告
> 我们特判出$n\leq k$的情况。
> 对于$1\leq k < n$,我们可以等效为$n$个点排成一列，并取出其中的连续k个点。下面分两种情况考虑：
> > 第一种情况，被选出的不包含断电，那么有$n-k-1$种情况完成上述操作，剩下未被圈的点之间还有$n-k-2$个位置，可以在每个位置断开，所以共 $(n-k-1)*{2}^{n-k-2}$ 种方法。
>
> > 第二种情况，即被选出的包含端点，那么有两种情况，并且剩余共$n-k-1$个位置，所以共$2*{2}^{n-k-1}$种方法。
>
> 总计$2*{2}^{n-k-1}+(n-k-1)*{2}^{n-k-2}=(n-k-3)*{2}^{n-k-1}$。



<!--more-->
我的代码
{% include_code hdu4602 Partition lang:cpp hdu/4602-1.cpp %}

标程
{% include_code hdu4602 Partition 标程 lang:cpp hdu/4602-2.cpp %}